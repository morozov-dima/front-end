// *************************************************************************
// ******************************** Example  *******************************
// *************************************************************************




// ************************** counter.component.html ***********************
<h1 class="counter" [class.green]="counter % 2 === 0">
    {{counter}}
</h1>

<button id="increment" (click)="increment()">
    Increment
</button>

<button (click)="decrement()">
    Decrement
</button>





// ************************ counter.component.ts ************************
import {Component} from "@angular/core";

@Component({
  selector: 'app-counter',
  templateUrl: './counter.component.html'
})
export class CounterComponent {
  // we will test this property.  
  counter: number = 0;

  increment() {
    this.counter++;
  }

  decrement() {
    this.counter--;
  }
}





// ********************** counter.component.spec.ts ********************
import { ComponentFixture, TestBed } from "@angular/core/testing";
import { By } from "@angular/platform-browser";

import {CounterComponent} from "./counter.component";

describe('CounterComponent', () => {
  // in this 'spec' we will test 'CounterComponent'
  let component: CounterComponent;

  // here we create 'fixture' of type 'ComponentFixture', it is generic type and we will
  // add <CounterComponent>
  let fixture: ComponentFixture<CounterComponent>;



  beforeEach(() => {
    // here we configure our testing module.
    TestBed.configureTestingModule({
      // in this test, we will test 'CounterComponent', and we need declare in.
      declarations: [CounterComponent]
    });

    // 1. we will create our component.
    // 2. here we will use 'createComponent' method.
    fixture = TestBed.createComponent(CounterComponent);
    component = fixture.componentInstance;
    //fixture.debugElement;
    //fixture.nativeElement;
  })




  // we want to check if our component was created.
  it('should be created', () => {
    // here we check if our 'component' was defined.
    expect(component).toBeDefined();
  });

  


  it('should render counter property', () => {
      // we set new value to number.
      let num: number = 42;

      // here we can go to our component and set counter value as 42.
      component.counter = num;

      fixture.detectChanges();

      // 1. we need get access to 'h1' element and get 'counter' class. 
      // 2. we will use 'By' object.
      // 3. 'de' - debug element.
      let de = fixture.debugElement.query(By.css('.counter'));
      let el: HTMLElement = de.nativeElement;

      // 'toContain' get string.
      expect(el.textContent).toContain(num.toString());
  }); 



})


