<div class="search-location-content">

<div class="search-location-title">
  <h1>ISS Tracker</h1>
</div>


<div class="search-location">
    <div *ngIf="!dataIsAvailable" class="no-data-available-message">
      No saved locations
    </div>

    <div *ngIf="dataIsAvailable" class="search-table-container">

        <mat-form-field appearance="standard">
            <mat-label>Filter</mat-label>
            <input matInput (keyup)="applyFilter($event)" placeholder="Ex. ium" #input>
          </mat-form-field>

          <h2>Saved locations</h2>
          

          <div class="search-table-content" >
          <table mat-table [dataSource]="dataSource" class="search-mat-table">
          
            <!-- close Column -->
            <ng-container matColumnDef="actions">
              <td class="actionsRow" mat-cell *matCellDef="let element">
                    <div class="actions-content">
                      <button class="mat-icon-button" (click)="onDeleteLocation(element.id)" mat-icon-button color="warn">
                        <mat-icon>close</mat-icon>
                      </button>
                    </div>
                </td>
            </ng-container>


              <!-- Name Column -->
              <ng-container  matColumnDef="name">
                <td class="cell-data bold" mat-cell *matCellDef="let element"><span>ISS is Over</span> {{element?.name}} </td>
              </ng-container>


              <!-- Lat Column -->
              <ng-container matColumnDef="lat">
                <td class="cell-data" mat-cell *matCellDef="let element">
                  <span class="cell-data-title bold">Lat:</span> 
                  <span class="cell-data-value">{{element?.iss_position?.latitude}}</span>,

                  <span class="cell-data-title bold">Lng:</span>
                  <span class="cell-data-value">{{element?.iss_position?.longitude}}</span>
                </td>
              </ng-container>

   

              <!-- Timestamp Column -->
              <ng-container matColumnDef="timestamp">
                <td class="cell-data" mat-cell *matCellDef="let element">
                  <span class="cell-data-date bold">Date:</span> {{element?.timestamp | date:'medium'}}
                </td>
              </ng-container>

         

            <tr 
              class="data-row"
              (click)="onChoseLocation(row)"
              [style.background-color]="rowClicked == row.id ? '#a5f3f3' : '#f0de6c'"
              [id]="row.id" mat-row *matRowDef="let row; columns: displayedColumns;">
            </tr>
          
            <!-- Row shown when there is no matching data. -->
            <tr class="mat-row" *matNoDataRow>
              <td class="mat-cell" colspan="4">No data matching the filter "{{input?.value}}"</td>
            </tr>
          </table>
        </div>

        </div>
      </div>
</div>